@Load
Feature: feature collection for the restrictedAreaNotams API on the load-service

  Background: 
    * def util = callonce read('classpath:com/jeppesen/ncs/common/Utility.feature')
    * string MaxAlt = util.random(10000)
    * string MinAlt = util.random(10)

  @FDS-19883-0
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(RestrictedArea -RR)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Accept = 'application/json'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
            
             {
                "type": "LineString",
                "coordinates": [
                   
               [4.9493408203125,48.36571583338893],
               [4.949855804443359,48.273825016632706]
             ]
             }
         ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'RR'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-1
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(ProhibhitedArea -RP)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Accept = 'application/json'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def  coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
            {
                  "type": "LineString",
                  "coordinates": [
                  
               [127.366667,36.433333],
               [127.366667,36.439993]
             ]
             }
         ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'RP'
    When method GET
    Then status 200
    And match $ contains  []

  @FDS-19883-2
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(RestrictedArea -RR)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Accept = 'application/json'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
            {
                "type": "Point",
                "coordinates": [-49.16675806045532,-25.10042590085026]
             },
             {
                "type": "LineString",
                "coordinates": [
                   
               [4.9493408203125,48.36571583338893],
               [4.949855804443359,48.273825016632706]
             ]
             },
            
             {
                "type": "Point",
                "coordinates": [-49.16675806045532,-25.10990802262477]
             }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 9000
    And form field qcode = 'RT'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-49.11159254297388,-25.099308838809595],[-49.11280090949521,-25.089538772109396],[-49.11607872319191,-25.08017101773444],[-49.12129963151234,-25.071565420300896],[-49.12826275992724,-25.06405248369438],[-49.136700467329725,-25.057920701117858],[-49.14628863897383,-25.053405502578862],[-49.156659120328506,-25.050680239395714],[-49.167413817368725,-25.04984954737535],[-49.17813992867926,-25.050945339972003],[-49.18842573404924,-25.05392558328345],[-49.197876344143864,-25.05867589976123],[-49.20612881693896,-25.065013940754785],[-49.21286606891209,-25.072696363294657],[-49.2178290519382,-25.081428147623587],[-49.220826729280695,-25.09087390253132],[-49.221743464220054,-25.100670728896468],[-49.22054353030123,-25.110442150966133],[-49.21727255984574,-25.1198125822857],[-49.212055863584574,-25.128421770699514],[-49.205093674797695,-25.13593866562868],[-49.19665349153926,-25.142074171251743],[-49.18705980547925,-25.146592290760527],[-49.176681610667764,-25.1493192281445],[-49.16591817543516,-25.150150092713897],[-49.15518363151012,-25.149052944745197],[-49.14489098289523,-25.14607002448431],[-49.13543616074811,-25.141316117022015],[-49.12718274833826,-25.134974117704637],[-49.120447972233066,-25.12728797212081],[-49.11549050362655,-25.11855326682691],[-49.112500539734114,-25.109105837722602],[-49.11159254297388,-25.099308838809595]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":4500}}],"notamProperties":{"ntmNumber":"Z0465\/19","ntmNotamType":"D1","fir":{"ntmFir":[{"firId":"SBCW"}]},"ntmEffDate":{"value":"2019-06-20T00:00:00Z","effIndicator":""},"ntmExpDate":{"value":"3000-12-31T23:59:59Z","expIndicator":"PERM"},"qcode":{"ntmQcd":[{"qcdId":"RRCA","qcdDecode":"RESTRICTED AREA ACTIVATED"}]},"ntmTxtContent":"\nSBR 592 (SANTANA BAIXO) ACT:\n1- BDRY LATERAIS: 25 08 02 S 049 12 32 W\/ 25 06 48 S 049 12 38\nW\/ 25 05 05 S 049 11 03 W \/ 25 05 32 S 049 09 19 W\n2- BDRY VERTICAIS: GND - 4500FT AMSL\n3- CARATER: PERMANENTE SOB VMC: ATIVADA DE 1400UTC AS 2100UTC\n4- TIPO DE RESTRIAO: VOOS DE PARAPENTE DO CLUBE DA CORDILHEIRA\nDO SANTANA\nREF: ENRC L1\nARC CURITIBA \/ FLORIANOPOLIS.\n","ntmTxtLowerLimit":"\nGND \n","ntmTxtUpperLimit":"\n4500FT AMSL\n","ntmJeppStatusDate":"2019-06-03T18:41:14Z","jeppNumber":"20190604FFF"}},{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[5.722877814761678,48.25095467351134],[5.713366981201818,48.351960486017596],[5.674389830451776,48.449780096093825],[5.607289370073484,48.540628435759565],[5.514531805412222,48.620970093541246],[5.399630047477114,48.68766181965014],[5.267017718803308,48.73808195036374],[5.121876733438708,48.77024041825556],[4.969925134827113,48.782863602448884],[4.81717531174562,48.775449349468545],[4.669675471042275,48.748289012601795],[4.533248883297929,48.70245519428662],[4.413245657021739,48.63975585291548],[4.314320596736799,48.562657347611506],[4.240248263623505,48.47418064934827],[4.193783081832808,48.377776198689794],[4.176568715893473,48.2771836630715],[4.189097471543124,48.1762831374686],[4.230717528563464,48.078944201116634],[4.299683629117665,47.988878788547694],[4.393245483553863,47.909503167663345],[4.507767545420159,47.84381354381077],[4.63887378677423,47.794279006394774],[4.781611473382831,47.762754754506155],[4.930628499798525,47.750417805383414],[5.080359428989147,47.757726709888146],[5.225215864069788,47.784406166436604],[5.359777077248335,47.829456827059154],[5.478976888731395,47.891190012015294],[5.578282616886186,47.9672864766352],[5.653861536671649,48.05487778819482],[5.702729751608267,48.150648253445915],[5.722877814761678,48.25095467351134]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":9500}}],"notamProperties":{"ntmNumber":"R2633\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"LFEE"},{"firId":"LFFF"}]},"ntmEffDate":{"value":"2019-11-07T00:00:00Z","effIndicator":""},"ntmExpDate":{"value":"2027-12-30T23:59:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"RTCA","qcdDecode":"TEMPORARY RESTRICTED AREA ACTIVATED"}]},"ntmTxtContent":"\nDRONES FLIGHTS OVER CHAUMONT REGION - AIP SUP 279\/19:\nSUBJECT: CREATION OF 5 TEMPO RESTRICTED AREAS.\nTHIS AIP SUP IS AVBL AT WWW.SIA.AVIATION-CIVILE.GOUV.FR\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\nFL095\n","ntmJeppStatusDate":"2019-09-26T08:43:23Z","jeppNumber":"201909425C2"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[5.72287781476168,48.2509546735113],[5.71336698120182,48.3519604860176],[5.67438983045178,48.4497800960938],[5.60728937007349,48.5406284357596],[5.51453180541222,48.6209700935413],[5.39963004747711,48.6876618196501],[5.26701771880331,48.7380819503638],[5.12187673343871,48.7702404182556],[4.96992513482711,48.7828636024489],[4.81717531174562,48.7754493494685],[4.66967547104228,48.7482890126018],[4.53324888329793,48.7024551942866],[4.41324565702174,48.6397558529155],[4.3143205967368,48.5626573476115],[4.2402482636235,48.4741806493483],[4.19378308183281,48.3777761986898],[4.17656871589347,48.2771836630715],[4.18909747154312,48.1762831374686],[4.23071752856346,48.0789442011166],[4.29968362911767,47.9888787885477],[4.39324548355386,47.9095031676634],[4.50776754542016,47.8438135438108],[4.63887378677423,47.7942790063948],[4.78161147338283,47.7627547545062],[4.93062849979852,47.7504178053834],[5.08035942898915,47.7577267098881],[5.22521586406979,47.7844061664366],[5.35977707724834,47.8294568270592],[5.4789768887314,47.8911900120153],[5.57828261688619,47.9672864766352],[5.65386153667165,48.0548777881948],[5.70272975160827,48.1506482534459],[5.72287781476168,48.2509546735113]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":9500}}], notamProperties={ntmNumber=R2633/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"LFEE"},{"firId":"LFFF"}]}, ntmEffDate={value=2019-11-07T00:00:00Z, effIndicator=}, ntmExpDate={value=2027-12-30T23:59:00Z, expIndicator=}, qcode={ntmQcd=[{"qcdId":"RTCA","qcdDecode":"TEMPORARY RESTRICTED AREA ACTIVATED"}]}, ntmTxtContent=DRONES FLIGHTS OVER CHAUMONT REGION - AIP SUP 279/19:SUBJECT: CREATION OF 5 TEMPO RESTRICTED AREAS.THIS AIP SUP IS AVBL AT WWW.SIA.AVIATION-CIVILE.GOUV.FR, ntmTxtLowerLimit=SFC, ntmTxtUpperLimit=FL095, ntmJeppStatusDate=2019-09-26T08:43:23Z, jeppNumber=201909425C2}}

  @FDS-19883-3
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(TemporaryRestrictedArea -RT)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Accept = 'application/json'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
            {
                "type": "Point",
                "coordinates": [4.949684143066406,48.365943927436675]
             }
            
             {
                "type": "Point",
                "coordinates": [4.9493408203125,48.273825016632706]
             }
      
           ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2022-09-19T15:00:00Z'
    And form field minAltitude = 5500
    And form field maxAltitude = 9000
    And form field qcode = 'RT'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[5.722877814761678,48.25095467351134],[5.713366981201818,48.351960486017596],[5.674389830451776,48.449780096093825],[5.607289370073484,48.540628435759565],[5.514531805412222,48.620970093541246],[5.399630047477114,48.68766181965014],[5.267017718803308,48.73808195036374],[5.121876733438708,48.77024041825556],[4.969925134827113,48.782863602448884],[4.81717531174562,48.775449349468545],[4.669675471042275,48.748289012601795],[4.533248883297929,48.70245519428662],[4.413245657021739,48.63975585291548],[4.314320596736799,48.562657347611506],[4.240248263623505,48.47418064934827],[4.193783081832808,48.377776198689794],[4.176568715893473,48.2771836630715],[4.189097471543124,48.1762831374686],[4.230717528563464,48.078944201116634],[4.299683629117665,47.988878788547694],[4.393245483553863,47.909503167663345],[4.507767545420159,47.84381354381077],[4.63887378677423,47.794279006394774],[4.781611473382831,47.762754754506155],[4.930628499798525,47.750417805383414],[5.080359428989147,47.757726709888146],[5.225215864069788,47.784406166436604],[5.359777077248335,47.829456827059154],[5.478976888731395,47.891190012015294],[5.578282616886186,47.9672864766352],[5.653861536671649,48.05487778819482],[5.702729751608267,48.150648253445915],[5.722877814761678,48.25095467351134]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":9500}}],"notamProperties":{"ntmNumber":"R2633\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"LFEE"},{"firId":"LFFF"}]},"ntmEffDate":{"value":"2019-11-07T00:00:00Z","effIndicator":""},"ntmExpDate":{"value":"2027-12-30T23:59:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"RTCA","qcdDecode":"TEMPORARY RESTRICTED AREA ACTIVATED"}]},"ntmTxtContent":"\nDRONES FLIGHTS OVER CHAUMONT REGION - AIP SUP 279\/19:\nSUBJECT: CREATION OF 5 TEMPO RESTRICTED AREAS.\nTHIS AIP SUP IS AVBL AT WWW.SIA.AVIATION-CIVILE.GOUV.FR\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\nFL095\n","ntmJeppStatusDate":"2019-09-26T08:43:23Z","jeppNumber":"201909425C2"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-49.11159254297388,-25.099308838809595],[-49.11280090949521,-25.089538772109396],[-49.11607872319191,-25.08017101773444],[-49.12129963151234,-25.071565420300896],[-49.12826275992724,-25.06405248369438],[-49.136700467329725,-25.057920701117858],[-49.14628863897383,-25.053405502578862],[-49.156659120328506,-25.050680239395714],[-49.167413817368725,-25.04984954737535],[-49.17813992867926,-25.050945339972003],[-49.18842573404924,-25.05392558328345],[-49.197876344143864,-25.05867589976123],[-49.20612881693896,-25.065013940754785],[-49.21286606891209,-25.072696363294657],[-49.2178290519382,-25.081428147623587],[-49.220826729280695,-25.09087390253132],[-49.221743464220054,-25.100670728896468],[-49.22054353030123,-25.110442150966133],[-49.21727255984574,-25.1198125822857],[-49.212055863584574,-25.128421770699514],[-49.205093674797695,-25.13593866562868],[-49.19665349153926,-25.142074171251743],[-49.18705980547925,-25.146592290760527],[-49.176681610667764,-25.1493192281445],[-49.16591817543516,-25.150150092713897],[-49.15518363151012,-25.149052944745197],[-49.14489098289523,-25.14607002448431],[-49.13543616074811,-25.141316117022015],[-49.12718274833826,-25.134974117704637],[-49.120447972233066,-25.12728797212081],[-49.11549050362655,-25.11855326682691],[-49.112500539734114,-25.109105837722602],[-49.11159254297388,-25.099308838809595]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":4500}}], notamProperties={ntmNumber=Z0465/19, ntmNotamType=D1, fir={ntmFir=[{"firId":"SBCW"}]}, ntmEffDate={value=2019-06-20T00:00:00Z, effIndicator=}, ntmExpDate={value=3000-12-31T23:59:59Z, expIndicator=PERM}, qcode={ntmQcd=[{"qcdId":"RRCA","qcdDecode":"RESTRICTED AREA ACTIVATED"}]}, ntmTxtContent=SBR 592 (SANTANA BAIXO) ACT:1- BDRY LATERAIS: 25 08 02 S 049 12 32 W/ 25 06 48 S 049 12 38 W/ 25 05 05 S 049 11 03 W / 25 05 32 S 049 09 19 W2- BDRY VERTICAIS: GND - 4500FT AMSL3- CARATER: PERMANENTE SOB VMC: ATIVADA DE 1400UTC AS 2100UTC4- TIPO DE RESTRIAO: VOOS DE PARAPENTE DO CLUBE DA CORDILHEIRADO SANTANAREF: ENRC L1ARC CURITIBA / FLORIANOPOLIS., ntmTxtLowerLimit=GND, ntmTxtUpperLimit=4500FT AMSL, ntmJeppStatusDate=2019-06-03T18:41:14Z, jeppNumber=20190604FFF}}

  @FDS-19883-4
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(GNSS Area Wide Operations -GW)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Accept = 'application/json'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   37.149925231933594,
                   38.9232925919493
                 ],
                 [
                   37.14996814727783,
                   38.9232925919493
                 ],
                 [
                   37.14996814727783,
                   38.93327478622361
                 ],
                 [
                   37.149925231933594,
                   38.93327478622361
                 ],
                 [
                   37.149925231933594,
                   38.9232925919493
                 ]
      
           ]
         ]
       },
        {
                "type": "Point",
                "coordinates": [37.14994668960571,38.92317573520367]
             }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'GW'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[46.163748742591146,38.727760387014996],[46.13050010829925,40.10488332943653],[45.743430311195084,41.45074402409343],[44.99530225265349,42.711501793324615],[43.895254922521,43.832696562125186],[42.47328266238656,44.76193667439318],[40.78331981321972,45.45252685173506],[38.90314060373718,45.867665107263484],[36.92971337315495,45.98443226385062],[34.97003781230194,45.79658239415478],[33.12934702302491,45.315318023500176],[31.499792756519565,44.567802558454346],[30.15250306947061,43.593861520890044],[29.134369114090877,42.441794456402036],[28.46910036321181,41.16426800773392],[28.1609560911228,39.81496341838505],[28.199391600807783,38.44623292612531],[28.5633287656262,37.10767351739484],[29.22440842849046,35.84533524624874],[30.14911021751985,34.70123536788065],[31.299943413281405,33.712902790604474],[32.63604765852699,32.912783892829935],[34.11355182274616,32.327465418215326],[35.685970724296446,31.97678516379889],[37.304806232072956,31.872981981977226],[38.920390489058164,32.0200637267988],[40.4828956741055,32.41353778423167],[41.943367322275854,33.040565003826416],[43.254636989800744,33.880493577004415],[44.372036176402,34.905642288417496],[45.253948220305205,36.08216384612465],[45.862367245183066,37.370842518714],[46.163748742591146,38.727760387014996]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":99999}}],"notamProperties":{"ntmNumber":"A5512\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"LTAA"}]},"ntmEffDate":{"value":"2019-10-01T13:39:00Z","effIndicator":""},"ntmExpDate":{"value":"2025-12-03T11:00:00Z","expIndicator":"EST"},"qcode":{"ntmQcd":[{"qcdId":"GWXX","qcdDecode":"GNSS AREA-WIDE OPERATIONS  "}]},"ntmTxtContent":"\nRECENTLY, GPS SIGNAL OUTAGES HAVE BEEN REPORTED BY THE PILOTS OF\nTHE\nAIRCRAFT OPERATING WITHIN SOME PARTS OF ANKARA FIR.\nAIRCRAFT OPERATORS OPERATING WITHIN ANKARA FIR ARE ADVICED TO BE\nCAUTIOUS ABOUT GPS OUTAGES.\n","ntmJeppStatusDate":"2019-10-01T13:40:51Z","jeppNumber":"201910013ED"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[46.1637487425911,38.727760387015],[46.1305001082993,40.1048833294365],[45.7434303111951,41.4507440240934],[44.9953022526535,42.7115017933246],[43.895254922521,43.8326965621252],[42.4732826623866,44.7619366743932],[40.7833198132197,45.4525268517351],[38.9031406037372,45.8676651072635],[36.929713373155,45.9844322638506],[34.970037812302,45.7965823941548],[33.1293470230249,45.3153180235002],[31.4997927565196,44.5678025584543],[30.1525030694706,43.59386152089],[29.1343691140909,42.441794456402],[28.4691003632118,41.1642680077339],[28.1609560911228,39.8149634183851],[28.1993916008078,38.4462329261253],[28.5633287656262,37.1076735173948],[29.2244084284905,35.8453352462487],[30.1491102175199,34.7012353678806],[31.2999434132814,33.7129027906045],[32.636047658527,32.9127838928299],[34.1135518227462,32.3274654182153],[35.6859707242964,31.9767851637989],[37.304806232073,31.8729819819772],[38.9203904890582,32.0200637267988],[40.4828956741055,32.4135377842317],[41.9433673222759,33.0405650038264],[43.2546369898007,33.8804935770044],[44.372036176402,34.9056422884175],[45.2539482203052,36.0821638461247],[45.8623672451831,37.370842518714],[46.1637487425911,38.727760387015]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":99999}}], notamProperties={ntmNumber=A5512/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"LTAA"}]}, ntmEffDate={value=2019-10-01T13:39:00Z, effIndicator=}, ntmExpDate={value=2025-12-03T11:00:00Z, expIndicator=EST}, qcode={ntmQcd=[{"qcdId":"GWXX","qcdDecode":"GNSS AREA-WIDE OPERATIONS  "}]}, ntmTxtContent=RECENTLY, GPS SIGNAL OUTAGES HAVE BEEN REPORTED BY THE PILOTS OF THE AIRCRAFT OPERATING WITHIN SOME PARTS OF ANKARA FIR.AIRCRAFT OPERATORS OPERATING WITHIN ANKARA FIR ARE ADVICED TO BE CAUTIOUS ABOUT GPS OUTAGES., ntmJeppStatusDate=2019-10-01T13:40:51Z, jeppNumber=201910013ED}}

  @FDS-19883-7
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(DemolitionOfExplosives -WD)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   23.3349609375,
                   56.145549500679074
                 ],
                 [
                   23.97216796875,
                   54.482804559582554
                 ],
                 [
                   27.0263671875,
                   55.81362907119958
                 ],
                 [
                   23.3349609375,
                   56.145549500679074
                 ]
      
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    When method GET
    Then status 200
    And match $ contains  []

  @FDS-19883-8
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(Exercises -WE)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   -73.94901752471924,
                   40.821961195604516
                 ],
                 [
                   -73.94893169403076,
                   40.821961195604516
                 ],
                 [
                   -73.94893169403076,
                   40.83157338099184
                 ],
                 [
                   -73.94901752471924,
                   40.83157338099184
                 ],
                 [
                   -73.94901752471924,
                   40.821961195604516
                 ]
      
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field qcode = 'WE'
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-73.86105796945652,40.82083330045169],[-73.86252315718008,40.833866739335946],[-73.86730905367762,40.84643247934964],[-73.87523341393897,40.858047255542594],[-73.8859928682866,40.86826413239515],[-73.89917440268569,40.87668976845212],[-73.9142711583035,40.88299964097394],[-73.93070195464728,40.88695062888126],[-73.94783377946686,40.88839045324708],[-73.96500635745501,40.88726359749049],[-73.98155781636154,40.88361346920965],[-73.99685041921161,40.877580716188255],[-74.01029532804242,40.86939776375898],[-74.02137540819194,40.85937979238117],[-74.02966516997877,40.847912516139466],[-74.03484707123297,40.83543724865825],[-74.03672356207156,40.822433847392865],[-74.03522443366026,40.80940220638207],[-74.03040922596712,40.79684301869514],[-74.02246464635239,40.7852385517577],[-74.01169714271677,40.77503417160692],[-73.99852095455414,40.766621317192346],[-73.98344212681057,40.7603225653616],[-73.9670391106363,40.75637934416189],[-73.94994068899254,40.7549427501011],[-73.93280205182795,40.75606780797162],[-73.91627990418056,40.75971138388985],[-73.90100752063796,40.7657338276177],[-73.88757066096662,40.773904283327205],[-73.87648523444484,40.78390947307524],[-73.86817754472023,40.795365628661685],[-73.86296786334243,40.807833129473345],[-73.86105796945652,40.82083330045169]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":36000}}],"notamProperties":{"ntmNumber":"A0046\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"KZNY"}]},"ntmEffDate":{"value":"2019-02-13T01:00:00Z","effIndicator":""},"ntmExpDate":{"value":"2026-12-31T23:59:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"WELW","qcdDecode":"EXERCISES WILL TAKE PLACE"}]},"ntmTxtContent":"\nLASER RESEARCH WI AN AREA\nDEFINED AS 404917N0735653W OR THE LAGURDIA \/LGA\/ VORTAC 316 DEG\nRADIAL AT 4NM SFC-FL360 AT AN ANGLE OF 90 DEGREES FROM THE SFC,\nPROJECTING UP TO FL360 AVOID AIRBORNE HAZARD BY 5NM. THIS BEAM IS\nINJURIOUS TO PILOTS'\/AIRCREWS' AND PASSENGERS EYES. LA GUARDIA\n\/LGA\/\nATCT, TELEPHONE 781-779-7901 IS THE FAA CDN FACILITY\n","ntmJeppStatusDate":"2019-02-12T19:01:26Z","jeppNumber":"2019021DE02"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-73.8610579694565,40.8208333004517],[-73.8625231571801,40.8338667393359],[-73.8673090536776,40.8464324793496],[-73.875233413939,40.8580472555426],[-73.8859928682866,40.8682641323951],[-73.8991744026857,40.8766897684521],[-73.9142711583035,40.8829996409739],[-73.9307019546473,40.8869506288813],[-73.9478337794669,40.8883904532471],[-73.965006357455,40.8872635974905],[-73.9815578163615,40.8836134692097],[-73.9968504192116,40.8775807161883],[-74.0102953280424,40.869397763759],[-74.0213754081919,40.8593797923812],[-74.0296651699788,40.8479125161395],[-74.034847071233,40.8354372486583],[-74.0367235620716,40.8224338473929],[-74.0352244336603,40.8094022063821],[-74.0304092259671,40.7968430186951],[-74.0224646463524,40.7852385517577],[-74.0116971427168,40.7750341716069],[-73.9985209545541,40.7666213171924],[-73.9834421268106,40.7603225653616],[-73.9670391106363,40.7563793441619],[-73.9499406889925,40.7549427501011],[-73.9328020518279,40.7560678079716],[-73.9162799041806,40.7597113838899],[-73.901007520638,40.7657338276177],[-73.8875706609666,40.7739042833272],[-73.8764852344448,40.7839094730752],[-73.8681775447202,40.7953656286617],[-73.8629678633424,40.8078331294733],[-73.8610579694565,40.8208333004517]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":36000}}], notamProperties={ntmNumber=A0046/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"KZNY"}]}, ntmEffDate={value=2019-02-13T01:00:00Z, effIndicator=}, ntmExpDate={value=2026-12-31T23:59:00Z, expIndicator=}, qcode={ntmQcd=[{"qcdId":"WELW","qcdDecode":"EXERCISES WILL TAKE PLACE"}]}, ntmTxtContent=LASER RESEARCH WI AN AREA DEFINED AS 404917N0735653W OR THE LAGURDIA /LGA/ VORTAC 316 DEG RADIAL AT 4NM SFC-FL360 AT AN ANGLE OF 90 DEGREES FROM THE SFC,PROJECTING UP TO FL360 AVOID AIRBORNE HAZARD BY 5NM. THIS BEAM IS INJURIOUS TO PILOTS'/AIRCREWS' AND PASSENGERS EYES. LA GUARDIA /LGA/ATCT, TELEPHONE 781-779-7901 IS THE FAA CDN FACILITY, ntmJeppStatusDate=2019-02-12T19:01:26Z, jeppNumber=2019021DE02}}

  @FDS-19883-9
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(Air fueling -WF)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
              [
                   38.016579151153564,
                   37.533568872236785
                 ],
                 [
                   38.01666498184204,
                   37.533568872236785
                 ],
                 [
                   38.01666498184204,
                   37.54328429521587
                 ],
                 [
                   38.016579151153564,
                   37.54328429521587
                 ],
                 [
                   38.016579151153564,
                   37.533568872236785
                 ]
      
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field qcode = 'WF'
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-10
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(Glider Flying -WG)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
              [
                   -119.23504829406737,
                   34.153668104826544
                 ],
                 [
                   -119.23502683639526,
                   34.153668104826544
                 ],
                 [
                   -119.23502683639526,
                   34.16322081490337
                 ],
                 [
                   -119.23504829406737,
                   34.16322081490337
                 ],
                 [
                   -119.23504829406737,
                   34.153668104826544
                 ]
      
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field qcode = 'WG'
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 9999
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-11
  Scenario: implementation to send request and verify status code with valid  QCODE as input parameter(Obstacles -OB)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [    
                  -104.888188149627,
                  41.9999455470935
                  ],
                  [
                   -104.890308631051,
                   42.0162184396682
                   ],
                   [
                   -104.896647644184,
                    42.0318698461162
                    ],
                    [
                     -104.906964293536,
                      42.0462976318211
                    ],
                    [
                     -104.888188149627,
                     41.9999455470935
                    ]             
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'OB'
    When method GET
    Then status 200

  @FDS-19883-12
  Scenario: send a request  and verify status code with valid  QCODE as input parameter(Unmanned Aircraft -WU)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
             [
               -125.15625000000001,
               24.766784522874453
             ],
             [
               -66.4453125,
               24.766784522874453
             ],
             [
               -66.4453125,
               49.32512199104001
             ],
             [
               -125.15625000000001,
               49.32512199104001
             ],
             [
               -125.15625000000001,
               24.766784522874453
             ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '3000-12-31T23:59:59Z'
    And form field endDateTime = '3000-12-31T23:59:59Z'
    And form field minAltitude = 0
    And form field maxAltitude = 3901
    And form field qcode = 'WU'
    When method GET
    Then status 200

  @FDS-19883-13
  Scenario: send a request   and verify status code with valid  QCODE as input parameter(Missle gun or rocket firing - WM)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   0.09988546371459961,
                   52.35013944727852
                 ],
                 [
                   0.10005712509155273,
                   52.35013944727852
                 ],
                 [
                   0.10005712509155273,
                   52.35885479909899
                 ],
                 [
                   0.09988546371459961,
                   52.35885479909899
                 ],
                 [
                   0.09988546371459961,
                   52.35013944727852
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WM'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[0.127155442046223,52.35066384834503],[0.126423090097241,52.353895367064226],[0.124675036855621,52.35697728216044],[0.121978284235668,52.35979111200344],[0.118436360857972,52.36222866081853],[0.114185359704026,52.36419618600922],[0.10938871140188,52.36561801114035],[0.104230893491311,52.36643944413384],[0.098910318962634,52.36662888700611],[0.09363168072622,52.36617905485645],[0.088598050886911,52.36510725654217],[0.084003043712622,52.3634547261444],[0.080023348522949,52.36128503142979],[0.076811923517261,52.358681621530714],[0.074492114550041,52.35574460952789],[0.073152925331061,52.35258691518403],[0.072845619227116,52.34932991758176],[0.073581779864448,52.3460987859367],[0.075332900387282,52.3430176687255],[0.078031511915631,52.3402049261077],[0.08157380282675,52.33776858833792],[0.085823624185167,52.33580221364196],[0.090617724975707,52.33438130330253],[0.095772015494069,52.33356041012893],[0.101088619763622,52.333371049921965],[0.106363449310307,52.3338204949973],[0.111394011868068,52.33489149542621],[0.115987160134871,52.33654293859848],[0.119966487792737,52.338711422267714],[0.123179092595332,52.34131368167226],[0.125501449074491,52.34424977888372],[0.126844165684771,52.347406933407996],[0.127155442046223,52.35066384834503]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":1100}}],"notamProperties":{"ntmNumber":"H6929\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"EGTT"}]},"ntmEffDate":{"value":"2019-10-30T13:00:00Z","effIndicator":""},"ntmExpDate":{"value":"2026-12-29T17:10:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"WMLW","qcdDecode":"MISSILE GUN OR ROCKET FIRING WILL TAKE PLACE"}]},"ntmTxtSchedule":"\n1300-SS PLUS30\n","ntmTxtContent":"\nKITE FLYING WI 0.25NM RADIUS 522112N 0000555E (HADDENHAM,\nCAMBRIDGESHIRE). MAX HGT 1000FT AGL. FOR INFO 07710802009.\n2019-09-0624\/AS2\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\n1100FT AMSL\n","ntmJeppStatusDate":"2019-10-22T14:00:20Z","jeppNumber":"2019103C3DF"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[0.127155442046223,52.350663848345],[0.126423090097241,52.3538953670642],[0.124675036855621,52.3569772821604],[0.121978284235668,52.3597911120034],[0.118436360857972,52.3622286608185],[0.114185359704026,52.3641961860092],[0.10938871140188,52.3656180111404],[0.10423089349131,52.3664394441338],[0.098910318962634,52.3666288870061],[0.09363168072622,52.3661790548564],[0.088598050886911,52.3651072565422],[0.084003043712623,52.3634547261444],[0.080023348522949,52.3612850314298],[0.076811923517261,52.3586816215307],[0.074492114550041,52.3557446095279],[0.07315292533106,52.352586915184],[0.072845619227115,52.3493299175818],[0.073581779864447,52.3460987859367],[0.075332900387282,52.3430176687255],[0.078031511915631,52.3402049261077],[0.08157380282675,52.3377685883379],[0.085823624185168,52.335802213642],[0.090617724975707,52.3343813033025],[0.095772015494069,52.3335604101289],[0.101088619763622,52.333371049922],[0.106363449310308,52.3338204949973],[0.111394011868067,52.3348914954262],[0.115987160134871,52.3365429385985],[0.119966487792737,52.3387114222677],[0.123179092595331,52.3413136816723],[0.125501449074491,52.3442497788837],[0.126844165684771,52.347406933408],[0.127155442046223,52.350663848345]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":1100}}], notamProperties={ntmNumber=H6929/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"EGTT"}]}, ntmEffDate={value=2019-10-30T13:00:00Z, effIndicator=}, ntmExpDate={value=2026-12-29T17:10:00Z, expIndicator=}, qcode={ntmQcd=[{"qcdId":"WMLW","qcdDecode":"MISSILE GUN OR ROCKET FIRING WILL TAKE PLACE"}]}, ntmTxtSchedule=1300-SS PLUS30, ntmTxtContent=KITE FLYING WI 0.25NM RADIUS 522112N 0000555E (HADDENHAM,CAMBRIDGESHIRE). MAX HGT 1000FT AGL. FOR INFO 07710802009.2019-09-0624/AS2, ntmTxtLowerLimit=SFC, ntmTxtUpperLimit=1100FT AMSL, ntmJeppStatusDate=2019-10-22T14:00:20Z, jeppNumber=2019103C3DF}}

  @FDS-19883-14
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Model Flying - WZ)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   -0.9822893142700196,
                   45.88967957986618
                 ],
                 [
                   -0.9821605682373048,
                   45.88967957986618
                 ],
                 [
                   -0.9821605682373048,
                   45.89940170288858
                 ],
                 [
                   -0.9822893142700196,
                   45.89940170288858
                 ],
                 [
                   -0.9822893142700196,
                   45.88967957986618
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WZ'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.814222294005785,45.814449565206786],[-0.81587527588565,45.83074147056403],[-0.822045208077607,45.84649466433428],[-0.832498440958837,45.861103123621575],[-0.846835722749249,45.87400439899479],[-0.864507163901123,45.88470138937625],[-0.884833200116595,45.89278164570621],[-0.907030775427749,45.89793343086392],[-0.930243729610669,45.89995788633395],[-0.953576177253067,45.89877680913435],[-0.976127522279375,45.894435719201226],[-0.997027671790296,45.88710208971721],[-1.015471002551641,45.87705881159347],[-1.030747693237025,45.864693158778636],[-1.042271161355929,45.85048170380201],[-1.049600526851457,45.83497179439812],[-1.052457252236922,45.818760335131664],[-1.050735367289967,45.802470717451],[-1.04450495951248,45.78672880443697],[-1.034008885328129,45.77213890161804],[-1.019652918747234,45.759260633399784],[-1.001989794009019,45.74858759824407],[-0.981697809426158,45.74052859823734],[-0.959554836973017,45.73539213439239],[-0.936408724053169,45.733374732665176],[-0.913145180000986,45.734553522154215],[-0.890654310831636,45.73888333121399],[-0.869797002484574,45.74619840409796],[-0.851372356045333,45.75621867499763],[-0.836087348423166,45.76856037262067],[-0.824529828400223,45.78275057139121],[-0.817145860185945,45.798245159614005],[-0.814222294005785,45.814449565206786]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":10000}}],"notamProperties":{"ntmNumber":"W2873\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"LFBB"}]},"airport":{"ntmApt":[{"aptId":"LFDN","aptIdIata":"RCO"}]},"ntmEffDate":{"value":"2019-11-08T16:53:00Z","effIndicator":""},"ntmExpDate":{"value":"3000-12-31T23:59:59Z","expIndicator":"PERM"},"qcode":{"ntmQcd":[{"qcdId":"WZLW","qcdDecode":"MODEL FLYING WILL TAKE PLACE"}]},"ntmTxtSchedule":"\nSR-SS\n","ntmTxtContent":"\nMODEL FLYING ACT AT SAINT JEAN D'ANGLE RDL155\/4.4NM LFDN ARP :\nPSN : 454922N 0005614W\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\n500FT AGL\n","ntmJeppStatusDate":"2019-11-08T16:54:48Z","jeppNumber":"2019111928F"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.814222294005785,45.8144495652068],[-0.81587527588565,45.830741470564],[-0.822045208077608,45.8464946643343],[-0.832498440958837,45.8611031236216],[-0.846835722749249,45.8740043989948],[-0.864507163901123,45.8847013893763],[-0.884833200116596,45.8927816457062],[-0.907030775427749,45.8979334308639],[-0.930243729610669,45.899957886334],[-0.953576177253067,45.8987768091343],[-0.976127522279374,45.8944357192012],[-0.997027671790296,45.8871020897172],[-1.01547100255164,45.8770588115935],[-1.03074769323703,45.8646931587786],[-1.04227116135593,45.850481703802],[-1.04960052685146,45.8349717943981],[-1.05245725223692,45.8187603351317],[-1.05073536728997,45.802470717451],[-1.04450495951248,45.786728804437],[-1.03400888532813,45.772138901618],[-1.01965291874723,45.7592606333998],[-1.00198979400902,45.7485875982441],[-0.981697809426158,45.7405285982373],[-0.959554836973017,45.7353921343924],[-0.936408724053169,45.7333747326652],[-0.913145180000986,45.7345535221542],[-0.890654310831636,45.738883331214],[-0.869797002484574,45.746198404098],[-0.851372356045333,45.7562186749976],[-0.836087348423166,45.7685603726207],[-0.824529828400223,45.7827505713912],[-0.817145860185945,45.798245159614],[-0.814222294005785,45.8144495652068]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":10000}}], notamProperties={ntmNumber=W2873/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"LFBB"}]}, airport={ntmApt=[{"aptId":"LFDN","aptIdIata":"RCO"}]}, ntmEffDate={value=2019-11-08T16:53:00Z, effIndicator=}, ntmExpDate={value=3000-12-31T23:59:59Z, expIndicator=PERM}, qcode={ntmQcd=[{"qcdId":"WZLW","qcdDecode":"MODEL FLYING WILL TAKE PLACE"}]}, ntmTxtSchedule=SR-SS, ntmTxtContent=MODEL FLYING ACT AT SAINT JEAN D'ANGLE RDL155/4.4NM LFDN ARP :PSN : 454922N 0005614W, ntmTxtLowerLimit=SFC , ntmTxtUpperLimit=500FT AGL, ntmJeppStatusDate=2019-11-08T16:54:48Z, jeppNumber=2019111928F}}

  @FDS-19883-15
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Aerial Survey -WY)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                [
                   125.64951896667482,
                   7.135726845868298
                 ],
                 [
                   125.6502914428711,
                   7.135726845868298
                 ],
                 [
                   125.6502914428711,
                   7.192614123122087
                 ],
                 [
                   125.64951896667482,
                   7.192614123122087
                 ],
                 [
                   125.64951896667482,
                   7.135726845868298
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WY'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-16
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Volcanic ACtivity - WW)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
              [
                   131.10384464263916,
                   32.884560674694534
                 ],
                 [
                   131.1038875579834,
                   32.884560674694534
                 ],
                 [
                   131.1038875579834,
                   32.894344683800675
                 ],
                 [
                   131.10384464263916,
                   32.894344683800675
                 ],
                 [
                   131.10384464263916,
                   32.884560674694534
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 9999
    And form field qcode = 'WW'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[131.5984335121556,32.87514239518805],[131.5913054603579,32.95673530688506],[131.56540864491703,33.0355850588583],[131.52169201841224,33.10865253979578],[131.46180189702142,33.17311379573108],[131.3880240757582,33.226470967808325],[131.30319862493752,33.26665147692119],[131.2106101579098,33.29209114102184],[131.11385782608897,33.301797466999744],[131.01671061192195,33.29539015754162],[130.9229545043206,33.27311688069548],[130.8362387289361,33.2358435047107],[130.7599282908731,33.18501922079655],[130.69696965766977,33.122618169702136],[130.6497755200132,33.05106026626196],[130.6201333265261,32.97311480741914],[130.60914084033598,32.89179110690558],[130.6171704591687,32.81022080504284],[130.64386260986447,32.731536662040206],[130.6881472700012,32.65875258375003],[130.74829163891005,32.59464938662965],[130.82197119273533,32.54167042259999],[130.9063607969476,32.501830690089115],[130.99824217914818,32.476642483990595],[131.09412384169983,32.46706000723748],[131.19036937562637,32.473444697947556],[131.28333008920168,32.49555233350472],[131.36947786104474,32.532542270050946],[131.44553415291526,32.58300847543782],[131.5085911667619,32.64503132739843],[131.55622120979808,32.71624848655498],[131.58657045802187,32.79394252418693],[131.5984335121556,32.87514239518805]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":6000}}],"notamProperties":{"ntmNumber":"J5468\/19","ntmNotamType":"C1","fir":{"ntmFir":[{"firId":"RJJJ"}]},"ntmEffDate":{"value":"2019-11-09T18:14:00Z","effIndicator":""},"ntmExpDate":{"value":"2026-12-10T00:15:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"WWXX","qcdDecode":"SIGNIFICANT VOLCANIC ACTIVITY  "}]},"ntmTxtContent":"\nVOLCANIC ACTIVITY INFO\nASOSAN PSN\/325304N1310614E(REF AIP ENR5.3-23)\nVA CLD OBS AT 1800\nFL060 MOV S\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\nFL060\n","ntmJeppStatusDate":"2019-11-09T18:15:24Z","jeppNumber":"2019111BF96"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[131.598433512156,32.8751423951881],[131.591305460358,32.9567353068851],[131.565408644917,33.0355850588583],[131.521692018412,33.1086525397958],[131.461801897021,33.1731137957311],[131.388024075758,33.2264709678083],[131.303198624938,33.2666514769212],[131.21061015791,33.2920911410218],[131.113857826089,33.3017974669997],[131.016710611922,33.2953901575416],[130.922954504321,33.2731168806955],[130.836238728936,33.2358435047107],[130.759928290873,33.1850192207965],[130.69696965767,33.1226181697021],[130.649775520013,33.051060266262],[130.620133326526,32.9731148074191],[130.609140840336,32.8917911069056],[130.617170459169,32.8102208050428],[130.643862609864,32.7315366620402],[130.688147270001,32.65875258375],[130.74829163891,32.5946493866296],[130.821971192735,32.5416704226],[130.906360796948,32.5018306900891],[130.998242179148,32.4766424839906],[131.0941238417,32.4670600072375],[131.190369375626,32.4734446979476],[131.283330089202,32.4955523335047],[131.369477861045,32.5325422700509],[131.445534152915,32.5830084754378],[131.508591166762,32.6450313273984],[131.556221209798,32.716248486555],[131.586570458022,32.7939425241869],[131.598433512156,32.8751423951881]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":6000}}], notamProperties={ntmNumber=J5468/19, ntmNotamType=C1, fir={ntmFir=[{"firId":"RJJJ"}]}, ntmEffDate={value=2019-11-09T18:14:00Z, effIndicator=}, ntmExpDate={value=2026-12-10T00:15:00Z, expIndicator=}, qcode={ntmQcd=[{"qcdId":"WWXX","qcdDecode":"SIGNIFICANT VOLCANIC ACTIVITY  "}]}, ntmTxtContent=VOLCANIC ACTIVITY INFO ASOSAN PSN/325304N1310614E(REF AIP ENR5.3-23)VA CLD OBS AT 1800 FL060 MOV S, ntmTxtLowerLimit=SFC, ntmTxtUpperLimit=FL060, ntmJeppStatusDate=2019-11-09T18:15:24Z, jeppNumber=2019111BF96}}

  @FDS-19883-17
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Formation Flight - WV)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [
                   138.06655883789062,
                   52.38341890595345
                 ],
                 [
                   138.0666446685791,
                   52.38341890595345
                 ],
                 [
                   138.0666446685791,
                   52.38825151349544
                 ],
                 [
                   138.06655883789062,
                   52.38825151349544
                 ],
                 [
                   138.06655883789062,
                   52.38341890595345
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 9990
    And form field qcode = 'WV'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-18
  Scenario: send a request and verify status code with valid  QCODE as input parameter(MASS MOVEMENT OF AIRCRAFT - WT)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                [
                   -85.43339967727661,
                   32.61579156685986
                 ],
                 [
                   -85.43331384658813,
                   32.61579156685986
                 ],
                 [
                   -85.43331384658813,
                   32.61949663565896
                 ],
                 [
                   -85.43339967727661,
                   32.61949663565896
                 ],
                 [
                   -85.43339967727661,
                   32.61579156685986
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WT'
    When method GET
    Then status 200

  @FDS-19883-19
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Air Display - WA)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
               [
                   30.942306518554688,
                   -29.885453119464504
                 ],
                 [
                   30.94402313232422,
                   -29.885453119464504
                 ],
                 [
                   30.94402313232422,
                   -29.818306214221295
                 ],
                 [
                   30.942306518554688,
                   -29.818306214221295
                 ],
                 [
                   30.942306518554688,
                   -29.885453119464504
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WA'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[31.039109505367662,-29.818123588547355],[31.03758740497372,-29.801802096214043],[31.03244452825606,-29.786053074159856],[31.023880062459785,-29.771481416947555],[31.0122242391185,-29.75864653668949],[30.997925477140218,-29.74804095184896],[30.98153307702292,-29.740071469071236],[30.963676141863107,-29.735043664747945],[30.94503953027729,-29.733150245451256],[30.92633774572938,-29.734463719085728],[30.908287734352616,-29.738933646969052],[30.891581598246464,-29.74638857668675],[30.876860233080386,-29.75654258220428],[30.864688867779545,-29.769006167090346],[30.855535420673018,-29.783301124441056],[30.84975249181588,-29.798878798635336],[30.84756368693995,-29.815141064545568],[30.849054817151814,-29.831463234028146],[30.854170343627466,-29.847218021638096],[30.862715242932044,-29.861799655068417],[30.874362262361288,-29.874647203428637],[30.888664323351044,-29.885266219657527],[30.905071623190036,-29.893247852300103],[30.922952790450392,-29.89828467524862],[30.941619277389595,-29.900182608916307],[30.960352032263927,-29.89886845812078],[30.978429393957423,-29.89439276463855],[30.99515509651663,-29.886927858653593],[31.009885265465343,-29.87676118500741],[31.022053331610362,-29.86428416874478],[31.031191878920467,-29.84997706157235],[31.036950575715707,-29.834390368802083],[31.039109505367662,-29.818123588547355]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":4000}}],"notamProperties":{"ntmNumber":"A4012\/19","ntmNotamType":"UD","fir":{"ntmFir":[{"firId":"FAJA"}]},"airport":{"ntmApt":[{"aptId":"FAVG","aptIdIata":"VIR"}]},"ntmEffDate":{"value":"2019-10-21T15:30:00Z","effIndicator":""},"ntmExpDate":{"value":"2025-12-18T21:30:00Z","expIndicator":"EST"},"qcode":{"ntmQcd":[{"qcdId":"WALW","qcdDecode":"AIR DISPLAY WILL TAKE PLACE"}]},"ntmTxtSchedule":"\nDLY 1530-2130\n","ntmTxtContent":"\nWESTVILLE, DURBAN, KWAZULU NATAL (294901S 0305636E): LASER BEAM\n(3300FT AGL) DISPLAY TAKING PLACE.\n","ntmTxtLowerLimit":"\nGND \n","ntmTxtUpperLimit":"\n3925FT AMSL\n","ntmJeppStatusDate":"2019-10-16T07:55:10Z","jeppNumber":"2019102B304"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[31.0391095053677,-29.8181235885474],[31.0375874049737,-29.801802096214],[31.0324445282561,-29.7860530741599],[31.0238800624598,-29.7714814169475],[31.0122242391185,-29.7586465366895],[30.9979254771402,-29.748040951849],[30.9815330770229,-29.7400714690712],[30.9636761418631,-29.7350436647479],[30.9450395302773,-29.7331502454513],[30.9263377457294,-29.7344637190857],[30.9082877343526,-29.7389336469691],[30.8915815982465,-29.7463885766868],[30.8768602330804,-29.7565425822043],[30.8646888677795,-29.7690061670903],[30.855535420673,-29.7833011244411],[30.8497524918159,-29.7988787986353],[30.8475636869399,-29.8151410645456],[30.8490548171518,-29.8314632340281],[30.8541703436275,-29.8472180216381],[30.862715242932,-29.8617996550684],[30.8743622623613,-29.8746472034286],[30.888664323351,-29.8852662196575],[30.90507162319,-29.8932478523001],[30.9229527904504,-29.8982846752486],[30.9416192773896,-29.9001826089163],[30.9603520322639,-29.8988684581208],[30.9784293939574,-29.8943927646385],[30.9951550965166,-29.8869278586536],[31.0098852654653,-29.8767611850074],[31.0220533316104,-29.8642841687448],[31.0311918789205,-29.8499770615723],[31.0369505757157,-29.8343903688021],[31.0391095053677,-29.8181235885474]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":4000}}], notamProperties={ntmNumber=A4012/19, ntmNotamType=UD, fir={ntmFir=[{"firId":"FAJA"}]}, airport={ntmApt=[{"aptId":"FAVG","aptIdIata":"VIR"}]}, ntmEffDate={value=2019-10-21T15:30:00Z, effIndicator=}, ntmExpDate={value=2025-12-18T21:30:00Z, expIndicator=EST}, qcode={ntmQcd=[{"qcdId":"WALW","qcdDecode":"AIR DISPLAY WILL TAKE PLACE"}]}, ntmTxtSchedule=DLY 1530-2130, ntmTxtContent=WESTVILLE, DURBAN, KWAZULU NATAL (294901S 0305636E): LASER BEAM(3300FT AGL) DISPLAY TAKING PLACE., ntmTxtLowerLimit=GND, ntmTxtUpperLimit=3925FT AMSL, ntmJeppStatusDate=2019-10-16T07:55:10Z, jeppNumber=2019102B304}}

  @FDS-19883-20
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Blasting - WH)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                [
                   -125.1346206665039,
                   49.43553837398122
                 ],
                 [
                   -125.13359069824219,
                   49.43553837398122
                 ],
                 [
                   -125.13359069824219,
                   49.48195527529924
                 ],
                 [
                   -125.1346206665039,
                   49.48195527529924
                 ],
                 [
                   -125.1346206665039,
                   49.43553837398122
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WH'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-125.08228162311602,49.434263885487084],[-125.08353785984046,49.44074177776271],[-125.08670858541335,49.44693529912744],[-125.09167255619596,49.45260627849563],[-125.09823938769733,49.457536563906984],[-125.10615681303504,49.461536439385256],[-125.11512036300134,49.4644519534115],[-125.12478509802547,49.46617087160868],[-125.13477893644615,49.466627019303154],[-125.14471705584556,49.46580284256084],[-125.15421679833152,49.463730086516236],[-125.16291248907496,49.460488564349504],[-125.17046958129207,49.456203065919034],[-125.17659756997138,49.45103852856145],[-125.18106116935824,49.445193660792846],[-125.18368932265565,49.438893269741044],[-125.18438170271317,49.432379592702766],[-125.18311246510186,49.42590297039275],[-125.17993112502313,49.41971222297684],[-125.17496054207689,49.41404509923302],[-125.16839210739825,49.40911916413862],[-125.16047833194295,49.40512347137374],[-125.15152312926092,49.40221133567668],[-125.14187016812554,49.400494477103535],[-125.13188973772817,49.400038756767984],[-125.12196461923253,49.40086166354239],[-125.11247549125736,49.40293164563383],[-125.10378641266762,49.40616931217232],[-125.09623092360884,49.41045046028473],[-125.0900992850302,49.41561081493122],[-125.08562733835419,49.421452304374974],[-125.08298741117792,49.42775063580664],[-125.08228162311602,49.434263885487084]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":5000}}],"notamProperties":{"ntmNumber":"L0622\/19","ntmNotamType":"CD","fir":{"ntmFir":[{"firId":"CZVR"}]},"airport":{"ntmApt":[{"aptId":"CBS8","aptIdIata":"YPB"}]},"ntmEffDate":{"value":"2019-11-06T22:40:00Z","effIndicator":""},"ntmExpDate":{"value":"2025-12-05T23:59:00Z","expIndicator":"EST"},"qcode":{"ntmQcd":[{"qcdId":"WHLW","qcdDecode":"BLASTING WILL TAKE PLACE"}]},"ntmTxtContent":"\nBLASTING ACT WILL TAKE PLACE 0.4NM RADIUS CENTERED ON\n492754N 1250313W (APRX 10NM NNW PORT ALBERNI AD)\n492530N 1250928N (APRX 11NM NNW PORT ALBERNI AD)\n492058N 1250001W (APRX 4NM NW PORT ALBERNI AD)\nSFC TO 2000FT AGL 5000 AMSL. SR-SS.\n","ntmTxtLowerLimit":"\nSFC \n","ntmTxtUpperLimit":"\n5000FT AMSL\n","ntmJeppStatusDate":"2019-11-06T22:40:47Z","jeppNumber":"20191111EE1"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-125.082281623116,49.4342638854871],[-125.08353785984,49.4407417777627],[-125.086708585413,49.4469352991274],[-125.091672556196,49.4526062784956],[-125.098239387697,49.457536563907],[-125.106156813035,49.4615364393853],[-125.115120363001,49.4644519534115],[-125.124785098025,49.4661708716087],[-125.134778936446,49.4666270193032],[-125.144717055846,49.4658028425608],[-125.154216798332,49.4637300865162],[-125.162912489075,49.4604885643495],[-125.170469581292,49.456203065919],[-125.176597569971,49.4510385285614],[-125.181061169358,49.4451936607928],[-125.183689322656,49.438893269741],[-125.184381702713,49.4323795927028],[-125.183112465102,49.4259029703927],[-125.179931125023,49.4197122229768],[-125.174960542077,49.414045099233],[-125.168392107398,49.4091191641386],[-125.160478331943,49.4051234713737],[-125.151523129261,49.4022113356767],[-125.141870168126,49.4004944771035],[-125.131889737728,49.400038756768],[-125.121964619233,49.4008616635424],[-125.112475491257,49.4029316456338],[-125.103786412668,49.4061693121723],[-125.096230923609,49.4104504602847],[-125.09009928503,49.4156108149312],[-125.085627338354,49.421452304375],[-125.082987411178,49.4277506358066],[-125.082281623116,49.4342638854871]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":5000}}], notamProperties={ntmNumber=L0622/19, ntmNotamType=CD, fir={ntmFir=[{"firId":"CZVR"}]}, airport={ntmApt=[{"aptId":"CBS8","aptIdIata":"YPB"}]}, ntmEffDate={value=2019-11-06T22:40:00Z, effIndicator=}, ntmExpDate={value=2025-12-05T23:59:00Z, expIndicator=EST}, qcode={ntmQcd=[{"qcdId":"WHLW","qcdDecode":"BLASTING WILL TAKE PLACE"}]}, ntmTxtContent=BLASTING ACT WILL TAKE PLACE 0.4NM RADIUS CENTERED ON 492754N 1250313W (APRX 10NM NNW PORT ALBERNI AD)492530N 1250928N (APRX 11NM NNW PORT ALBERNI AD)492058N 1250001W (APRX 4NM NW PORT ALBERNI AD)SFC TO 2000FT AGL 5000 AMSL. SR-SS., ntmTxtLowerLimit=SFC, ntmTxtUpperLimit=5000FT AMSL, ntmJeppStatusDate=2019-11-06T22:40:47Z, jeppNumber=20191111EE1}}

  @FDS-19883-21
  Scenario: send a request and verify status code with valid  QCODE as input parameter(AscentofFreeBallon - WL)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                [
                   149.04992580413818,
                   -35.33926668856397
                 ],
                 [
                   149.05001163482666,
                   -35.33926668856397
                 ],
                 [
                   149.05001163482666,
                   -35.33342017082477
                 ],
                 [
                   149.04992580413818,
                   -35.33342017082477
                 ],
                 [
                   149.04992580413818,
                   -35.33926668856397
                 ]
           ]
         ]
       }
       ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WL'
    When method GET
    Then status 200

  @FDS-19883-22
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Burning blowing gas - WS)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                [
                   4.799480438232422,
                   55.71715195496661
                 ],
                 [
                   4.800510406494141,
                   55.71715195496661
                 ],
                 [
                   4.800510406494141,
                   55.76604807832992
                 ],
                 [
                   4.799480438232422,
                   55.76604807832992
                 ],
                 [
                   4.799480438232422,
                   55.71715195496661
                 ]
           ]
         ]
       }
       ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WS'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-23
  Scenario: send a request and verify status code with valid  QCODE as input parameter(RadioActive toxic gas - WR)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [
                   151.83208465576172,
                   -32.887948262371275
                 ],
                 [
                   151.83380126953122,
                   -32.887948262371275
                 ],
                 [
                   151.83380126953122,
                   -32.80112754111692
                 ],
                 [
                   151.83208465576172,
                   -32.80112754111692
                 ],
                 [
                   151.83208465576172,
                   -32.887948262371275
                 ]
           ]
         ]
       }
       ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WR'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[151.93221874226418,-32.800882288758906],[151.93051369745137,-32.78457273774188],[151.92507584459875,-32.76885736750647],[151.91611591071995,-32.75433968715517],[151.90397943325146,-32.741576928545896],[151.88913329871173,-32.731058734995464],[151.87214772797603,-32.723188469318764],[151.85367441089156,-32.71826784067953],[151.83442162287201,-32.71648542185763],[151.81512725530615,-32.71790948152248],[151.7965307587027,-32.72248539519929],[151.7793450317673,-32.73003772927995],[151.76422929081144,-32.740276920217774],[151.7517639221127,-32.75281030151289],[151.74242825546838,-32.76715706974006],[151.73658210100803,-32.7827666330498],[151.73445176472634,-32.799039656413775],[151.73612110339607,-32.81535101218463],[151.74152799985933,-32.83107376660842],[151.750466439914,-32.84560328641849],[151.7625941583761,-32.858380537319086],[151.77744560224258,-32.868913669679394],[151.79444974237967,-32.87679704638224],[151.81295206193522,-32.8817269622174],[151.8322398701196,-32.88351343050122],[151.85156994400538,-32.88208756606436],[151.87019739708197,-32.87750426814577],[151.88740461778312,-32.869940094549],[151.90252911757898,-32.85968641129214],[151.91498917677416,-32.847138091205295],[151.92430627393335,-32.83277821200539],[151.93012342598104,-32.817159361557074],[151.93221874226418,-32.800882288758906]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":99999}}],"notamProperties":{"ntmNumber":"C0437\/19","ntmNotamType":"AD","fir":{"ntmFir":[{"firId":"YBBB"}]},"airport":{"ntmApt":[{"aptId":"YWLM","aptIdIata":"NTL"}]},"ntmEffDate":{"value":"2019-10-17T00:51:00Z","effIndicator":""},"ntmExpDate":{"value":"2027-12-02T22:00:00Z","expIndicator":"EST"},"qcode":{"ntmQcd":[{"qcdId":"WRLW","qcdDecode":"RADIOACTIVE OR TOXIC MATERIALS WILL TAKE PLACE"}]},"ntmTxtContent":"\nRADAIATION HAZARD FM TEMPO RADAR\nBRG 180 MAG 642M FROM ARP (SOUTHERN GRASS ADJACENT NDB MAST)\nDO NOT OVERFLY BLW 500FT AGL WI 150M RADIUS\n","ntmJeppStatusDate":"2019-10-17T00:51:49Z","jeppNumber":"2019102E00B"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[151.932218742264,-32.8008822887589],[151.930513697451,-32.7845727377419],[151.925075844599,-32.7688573675065],[151.91611591072,-32.7543396871552],[151.903979433251,-32.7415769285459],[151.889133298712,-32.7310587349955],[151.872147727976,-32.7231884693188],[151.853674410892,-32.7182678406795],[151.834421622872,-32.7164854218576],[151.815127255306,-32.7179094815225],[151.796530758703,-32.7224853951993],[151.779345031767,-32.73003772928],[151.764229290811,-32.7402769202178],[151.751763922113,-32.7528103015129],[151.742428255468,-32.7671570697401],[151.736582101008,-32.7827666330498],[151.734451764726,-32.7990396564138],[151.736121103396,-32.8153510121846],[151.741527999859,-32.8310737666084],[151.750466439914,-32.8456032864185],[151.762594158376,-32.8583805373191],[151.777445602243,-32.8689136696794],[151.79444974238,-32.8767970463822],[151.812952061935,-32.8817269622174],[151.83223987012,-32.8835134305012],[151.851569944005,-32.8820875660644],[151.870197397082,-32.8775042681458],[151.887404617783,-32.869940094549],[151.902529117579,-32.8596864112921],[151.914989176774,-32.8471380912053],[151.924306273933,-32.8327782120054],[151.930123425981,-32.8171593615571],[151.932218742264,-32.8008822887589]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":99999}}], notamProperties={ntmNumber=C0437/19, ntmNotamType=AD, fir={ntmFir=[{"firId":"YBBB"}]}, airport={ntmApt=[{"aptId":"YWLM","aptIdIata":"NTL"}]}, ntmEffDate={value=2019-10-17T00:51:00Z, effIndicator=}, ntmExpDate={value=2027-12-02T22:00:00Z, expIndicator=EST}, qcode={ntmQcd=[{"qcdId":"WRLW","qcdDecode":"RADIOACTIVE OR TOXIC MATERIALS WILL TAKE PLACE"}]}, ntmTxtContent=RADAIATION HAZARD FM TEMPO RADAR BRG 180 MAG 642M FROM ARP (SOUTHERN GRASS ADJACENT NDB MAST)DO NOT OVERFLY BLW 500FT AGL WI 150M RADIUS,ntmJeppStatusDate=2019-10-17T00:51:49Z, jeppNumber=2019102E00B}}

  @FDS-19883-24
  Scenario: send a request and verify status code with valid  QCODE as input parameter(Parachute Jumping Activity- WP)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [
                   -117.18967080116272,
                   32.733564695067194
                 ],
                 [
                   -117.18967080116272,
                   32.73395502694186
                 ],
                 [
                   -117.18967080116272,
                   32.73395502694186
                 ],
                 [
                   -117.18967080116272,
                   32.733564695067194
                 ]
           ]
         ]
       }
      ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'WP'
    When method GET
    Then status 200
    And match $ contains [{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-117.16990095865658,32.73358434621066],[-117.17028695537931,32.73684308294756],[-117.17141779805584,32.73997554893605],[-117.17325009681502,32.74286134599366],[-117.17571348247456,32.74538954597138],[-117.17871330391712,32.74746295801155],[-117.18213426311935,32.74900186864955],[-117.18584484850473,32.749947110249714],[-117.18970239586953,32.75026233907997],[-117.19355858132536,32.74993543482298],[-117.19726513357496,32.74897896730698],[-117.20067954412843,32.74742971237391],[-117.20367055415137,32.74534723565521],[-117.20612320551335,32.74281159913097],[-117.20794326088466,32.73992027927551],[-117.20906082266933,32.73678441600504],[-117.20943301209424,32.733524537353375],[-117.20904560657542,32.730265924825666],[-117.2079135740321,32.727133797964655],[-117.2060804854818,32.72424850332375],[-117.20361683034548,32.72172089256356],[-117.20061730076583,32.71964806683874],[-117.19719715033278,32.71810965035272],[-117.19348776749516,32.71716473551098],[-117.18963163337966,32.71684961629954],[-117.18577685672017,32.71717639634729],[-117.18207149433744,32.71813252473571],[-117.17865787357496,32.719681277252],[-117.17566713302857,32.72176316475313],[-117.17321418980342,32.72429821496206],[-117.17139332566279,32.72718904066563],[-117.1702745613305,32.730324577177775],[-117.16990095865658,32.73358434621066]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":7000}}],"notamProperties":{"ntmNumber":"11\/065","ntmNotamType":"UD","fir":{"ntmFir":[{"firId":"KZLA"}]},"airport":{"ntmApt":[{"aptId":"KSAN","aptIdIata":"SAN"}]},"ntmEffDate":{"value":"2019-11-09T22:00:00Z","effIndicator":""},"ntmExpDate":{"value":"2027-12-09T23:00:00Z","expIndicator":""},"qcode":{"ntmQcd":[{"qcdId":"WPLW","qcdDecode":"PARACHUTE JUMPING EXERCISE WILL TAKE PLACE"}]},"ntmTxtContent":"\nSAN AIRSPACE PARACHUTE JUMPING EXERCISES WI AN AREA DEFINED AS\n1.5NM RADIUS OF\nSAN261001 (1NM E SAN) SFC-7000FT 1911092200-1911092300\n","ntmJeppStatusDate":"2019-11-09T17:14:15Z","jeppNumber":"2019111BD96"}}], expected: {type=FeatureCollection, features=[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-117.169900958657,32.7335843462107],[-117.170286955379,32.7368430829476],[-117.171417798056,32.7399755489361],[-117.173250096815,32.7428613459937],[-117.175713482475,32.7453895459714],[-117.178713303917,32.7474629580116],[-117.182134263119,32.7490018686496],[-117.185844848505,32.7499471102497],[-117.18970239587,32.75026233908],[-117.193558581325,32.749935434823],[-117.197265133575,32.748978967307],[-117.200679544128,32.7474297123739],[-117.203670554151,32.7453472356552],[-117.206123205513,32.742811599131],[-117.207943260885,32.7399202792755],[-117.209060822669,32.736784416005],[-117.209433012094,32.7335245373534],[-117.209045606575,32.7302659248257],[-117.207913574032,32.7271337979647],[-117.206080485482,32.7242485033237],[-117.203616830345,32.7217208925636],[-117.200617300766,32.7196480668387],[-117.197197150333,32.7181096503527],[-117.193487767495,32.717164735511],[-117.18963163338,32.7168496162995],[-117.18577685672,32.7171763963473],[-117.182071494337,32.7181325247357],[-117.178657873575,32.719681277252],[-117.175667133029,32.7217631647531],[-117.173214189803,32.7242982149621],[-117.171393325663,32.7271890406656],[-117.170274561331,32.7303245771778],[-117.169900958657,32.7335843462107]]]},"properties":{"lower_alt_msl_ft":0,"upper_alt_msl_ft":7000}}], notamProperties={ntmNumber=11/065, ntmNotamType=UD, fir={ntmFir=[{"firId":"KZLA"}]}, airport={ntmApt=[{"aptId":"KSAN","aptIdIata":"SAN"}]}, ntmEffDate={value=2019-11-09T22:00:00Z, effIndicator=}, ntmExpDate={value=2027-12-09T23:00:00Z, expIndicator=}, qcode={ntmQcd=[{"qcdId":"WPLW","qcdDecode":"PARACHUTE JUMPING EXERCISE WILL TAKE PLACE"}]}, ntmTxtContent=SAN AIRSPACE PARACHUTE JUMPING EXERCISES WI AN AREA DEFINED AS 1.5NM RADIUS OFSAN261001 (1NM E SAN) SFC-7000FT 1911092200-1911092300, ntmJeppStatusDate=2019-11-09T17:14:15Z, jeppNumber=2019111BD96}}

  @FDS-19883-25
  Scenario: naive implementation to send request and verify status code with all valid  QCODE as input parameter
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [    
                  -104.888188149627,
                  41.9999455470935
                  ],
                  [
                   -104.890308631051,
                   42.0162184396682
                   ],
                   [
                   -104.896647644184,
                    42.0318698461162
                    ],
                    [
                     -104.906964293536,
                      42.0462976318211
                    ],
                    [
                     -104.888188149627,
                     41.9999455470935
                    ]             
           ]
         ]
       }
      ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'OB','RA','RM','RO','RP','RR','RT','GW','WA','WB','WC','WD','WE','WF','WG','WH','WJ','WL','WM','WP','WR','WS','WT','WU','WV','WW','WY','WZ','RD'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-26
  Scenario: naive implementation to send request and verify status code with invalid QCODE(Lowercase) as input parameter
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                 [
                   23.48876953125,
                   50.48547354578499
                 ],
                 [
                   23.53271484375,
                   50.48547354578499
                 ],
                 [
                   23.53271484375,
                   50.56928286558243
                 ],
                 [
                   23.48876953125,
                   50.56928286558243
                 ],
                 [
                   23.48876953125,
                   50.48547354578499
                 ]
           ]
         ]
       }
       ]
      }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-27
  Scenario: naive implementation to send request and verify status code with invalid QCODE(Invalid with Lowercase) as input parameter
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
              [
                   -85.440673828125,
                   32.0639555946604
                 ],
                 [
                   -85.440673828125,
                   32.091882620021806
                 ],
                 [
                   -85.440673828125,
                   32.091882620021806
                 ],
                 [
                   -85.440673828125,
                   32.0639555946604
                 ]
           ]
         ]
       }
       ]
      }
               
           
         
       
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 4000
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field qcode = 'YY'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-28
  Scenario: naive implementation to send request and verify status code with invalid QCODE(special character) as input parameter
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
              [
                   -85.440673828125,
                   32.0639555946604
                 ],
                 [
                   -85.440673828125,
                   32.091882620021806
                 ],
                 [
                   -85.440673828125,
                   32.091882620021806
                 ],
                 [
                   -85.440673828125,
                   32.0639555946604
                 ]
           ]
         ]
        }
       ]
      }
               
         
         
       
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 4000
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field qcode = 'WA*'
    When method GET
    Then status 200
    And match $ contains []

  @FDS-19883-29
  Scenario: send a request   and validate EPOCH
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
      {
         "type": "Polygon",
         "coordinates": [
           [
                  [
                   -2.66668438911438,
                   38.566673271228055
                 ],
                 [
                   -2.6666682958602905,
                   38.566673271228055
                 ],
                 [
                   -2.6666682958602905,
                   38.56695638919264
                 ],
                 [
                   -2.66668438911438,
                   38.56695638919264
                 ],
                 [
                   -2.66668438911438,
                   38.566673271228055
                 ]
           ]
         ]
       }
       ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2023-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    When method GET
    Then status 200

  @FDS-19883-0
  Scenario: implementation to send request and verify status code with valid QCODE as input parameter(RestrictedArea -RR)
    Given url 'https://ncs-load-ta-wus.azurewebsites.net/restrictedAreaNotams'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    And header Accept = 'application/json'
    And def coordinate_geometry =
      """
      {
         "type": "GeometryCollection",
         "geometries": [
            
             {
                "type": "LineString",
                "coordinates": [
                   
               [
                 127.19318389892578,
                 36.57142382346277
               ],
               [
                 127.38098144531249,
                 36.56122122975857
               ]
             ]
             },
             
             {
                "type": "Point",
                "coordinates": [127.1945571899414,36.57032090532844]
             },
            
             {
                "type": "Point",
                "coordinates": [127.38201141357422,36.560669699817616]
             }
         ]
       }
      """
    And form field geopolygon = coordinate_geometry
    And form field startDateTime = '2019-01-20T15:00:00Z'
    And form field endDateTime = '2020-09-19T15:00:00Z'
    And form field minAltitude = 0
    And form field maxAltitude = 5000
    And form field qcode = 'RR'
    When method GET
    Then status 200
    And match $ contains []
