 @performance
Feature: Performance testing restrictedAreaNotams API on the load-service
 
 Scenario: Performance testing to send request with 20 co-ordinates for an area and verify status code.Change the classpath in the Peformance simulation to countryperf(classpath:Performance/RACalifornia.feature@performance)
    Given url 'https://ncs-load-uat-wus.azurewebsites.net/'
    * def random_string =
      """
      function(s) {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789";
        for (var i = 0; i < s; i++)
        text += possible.charAt(Math.floor(Math.random() * possible.length));
        return text;
       }
      """
     * def Flightkey = 'KSEA-KIAD Volume-' +random_string(15)
    Given path 'notam/v1/search/saved/flight'
    And header Accept = 'application/json'
    And header Content-Type = 'application/json'
   
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    
    
    And request {"flight_key": "#(Flightkey)",   "etd": "2024-10-27T02:22:00Z",   "eta": "2024-10-28T10:12:00Z",   "pod": {     "iata": "SEA",     "icao": "KSEA",     "longitude": -122.31166666666667,     "latitude": 47.45   },   "poa": {     "iata": "IAD",     "icao": "KIAD",     "longitude": -77.46,     "latitude": 38.946666666666665   },   "checkpoints": [     {       "name": "NORMY",       "longitude": -121.72166666666666,       "latitude": 47.43,       "flight_level": "152"},     {       "name": "BLUIT",       "longitude": -120.41833333333334,       "latitude": 47.406666666666666,       "flight_level": "312"},     {       "name": "EPH",       "longitude": -119.42333333333333,       "latitude": 47.37833333333333,       "flight_level": "391"},     {       "name": "TOC",       "longitude": -119.18,       "latitude": 47.39,       "flight_level": "410"},     {       "name": "MLP",       "longitude": -115.64666666666666,       "latitude": 47.456666666666663,       "flight_level": "410"},     {       "name": "GTF",       "longitude": -111.41166666666666,       "latitude": 47.45,       "flight_level": "410"},     {       "name": "HILGR",       "longitude": -109.15166666666667,       "latitude": 47.36,       "flight_level": "410"},     {       "name": "DIK",       "longitude": -102.77333333333333,       "latitude": 46.86,       "flight_level": "410"},     {       "name": "ABR",       "longitude": -98.368333333333339,       "latitude": 45.416666666666664,       "flight_level": "410"},     {       "name": "RWF",       "longitude": -95.12833333333333,       "latitude": 44.466666666666669,       "flight_level": "410"},     {       "name": "HARPI",       "longitude": -93.906666666666666,       "latitude": 44.296666666666667,       "flight_level": "410"},     {       "name": "ODI",       "longitude": -91.468333333333334,       "latitude": 43.911666666666669,       "flight_level": "410"},     {       "name": "HILRO",       "longitude": -90.225,       "latitude": 43.651666666666664,       "flight_level": "410"},     {       "name": "DLL",       "longitude": -89.763333333333335,       "latitude": 43.551666666666669,       "flight_level": "410"},     {       "name": "BAE",       "longitude": -88.285,       "latitude": 43.116666666666667,       "flight_level": "410"},     {       "name": "PMM",       "longitude": -86.105,       "latitude": 42.466666666666669,       "flight_level": "410" },     {       "name": "DJB",       "longitude": -82.161666666666662,       "latitude": 41.358333333333334,       "flight_level": "410"},     {       "name": "GAABE",       "longitude": -81.905,       "latitude": 41.106666666666669,       "flight_level": "410"},     {       "name": "MAINE",       "longitude": -81.688333333333333,       "latitude": 40.893333333333331,       "flight_level": "410"},     {       "name": "SPOOL",       "longitude": -81.223333333333329,       "latitude": 40.43,       "flight_level": "410"},     {       "name": "AIR",       "longitude": -80.816666666666663,       "latitude": 40.016666666666666,       "flight_level": "410"},     {       "name": "MGW",       "longitude": -79.86,       "latitude": 39.556666666666665,       "flight_level": "410"},     {       "name": "BRNDN",       "longitude": -79.53,       "latitude": 39.49666666666667,       "flight_level": "410"},     {       "name": "HIROY",       "longitude": -79.408333333333331,       "latitude": 39.475,       "flight_level": "410"},     {       "name": "JIMVE",       "longitude": -79.185,       "latitude": 39.43333333333333,       "flight_level": "410"},     {       "name": "TOD",       "longitude": -79.16,       "latitude": 39.43,       "flight_level": "410"},     {       "name": "TABBE",       "longitude": -78.926666666666662,       "latitude": 39.388333333333335,       "flight_level": "361"},     {       "name": "KIKKR",       "longitude": -78.568333333333328,       "latitude": 39.323333333333331,       "flight_level": "294"},     {       "name": "IGGGY",       "longitude": -78.37,       "latitude": 39.288333333333334,       "flight_level": "266"},     {       "name": "MOSLE",       "longitude": -78.23833333333333,       "latitude": 39.218333333333334,       "flight_level": "244"},     {       "name": "MONNK",       "longitude": -78.14,       "latitude": 39.168333333333337,       "flight_level": "225"},     {       "name": "BMICH",       "longitude": -78.006666666666661,       "latitude": 39.096666666666664,       "flight_level": "200"},     {       "name": "THZMN",       "longitude": -77.865,       "latitude": 39.021666666666668,       "flight_level": "170"},     {       "name": "GIBBZ",       "longitude": -77.76,       "latitude": 38.965,       "flight_level": "148"},     {       "name": "SUNYJ",       "longitude": -77.623333333333335,       "latitude": 38.951666666666668,       "flight_level": "133"},     {       "name": "SIYOB",       "longitude": -77.573333333333338,       "latitude": 38.853333333333332,       "flight_level": "114"},     {       "name": "MIKEJ",       "longitude": -77.583333333333329,       "latitude": 38.633333333333333,       "flight_level": "78"},     {       "name": "KIAD",       "longitude": -77.46,       "latitude": 38.946666666666665,       "flight_level": "3"    }   ],   "alternates": [     {       "alternate_type": "Departure Alternate",       "airport": {         "iata": "PDX",         "icao": "KPDX",         "longitude": -122.596869,         "latitude": 45.588708       }     }   ] }
  
    And method POST
    Then status 200
    

    
    