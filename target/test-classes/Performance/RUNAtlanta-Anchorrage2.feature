@performance
Feature: Performance testing restrictedAreaNotams API on the load-service



 
    
  Scenario: Performance testing to send request with 20 co-ordinates for an area and verify status code.Change the classpath in the Peformance simulation to countryperf(classpath:Performance/RACalifornia.feature@performance)
    Given url 'https://ncs-load-uat-wus.azurewebsites.net/'
    * def random_string =
      """
      function(s) {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789";
        for (var i = 0; i < s; i++)
        text += possible.charAt(Math.floor(Math.random() * possible.length));
        return text;
       }
      """
     * def Flightkey = 'PANC-ATL Volume-' +random_string(15)
    Given path 'notam/v1/search/saved/flight'
    And header Accept = 'application/json'
    And header Content-Type = 'application/json'
    And param disposition = 'JSON'
    And header Non-Human-Id-JWT-TOKEN = 'eyJraWQiOiJUQUdFQWItWXV4emxiV3pGM3g1ZTBQV2ZVZEUiLCJhbGciOiJFUzI1NiJ9.eyJhdWQiOiJOb24tSHVtYW4tSWQtSldUIiwiaWZzIjp7InNwQXR0cnMiOm51bGwsIm1haW51cG4iOm51bGwsIm1haW5vcmdhbml6YXRpb25pZCI6IlRCQyIsImFzc3VyYW5jZXNjb3JlIjpudWxsLCJhc3N1cmFuY2VsZXZlbCI6bnVsbH0sImlzcyI6IlBpbmdBY2Nlc3NBdXRoVG9rZW4iLCJmcCI6eyJzdWJqZWN0IjoiUGVyZlRlc3RYNTA5Q2xpZW50OjpDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUzo6ODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2IiwiYXV0aG5Tb3VyY2UiOiJQZXJmVGVzdFg1MDlDbGllbnQifSwiY2VydCI6eyJzdWJzaWRpYXJ5Y29tcGFueUlEIjpudWxsLCJJc3N1ZXIiOiJDTj1Cb2VpbmcgQmFzaWMgQXNzdXJhbmNlIFNvZnR3YXJlIElzc3VpbmcgQ0EgRzMsT1U9Y2VydHNlcnZlcnMsTz1Cb2VpbmcsQz1VUyIsInN1YmplY3QiOiJDTj10ZXN0Y2xpZW50Y2VydC5mZWRwLmRpZ2l0YWxhdmlhdGlvbnNlcnZpY2VzLmNvbSxPVT1zZXJ2ZXJzLE89Qm9laW5nLEM9VVMiLCJzZXJ2aWNlIjpudWxsLCJ1QXR0cmlidXRlcyI6bnVsbCwic3Vic2lkaWFyeUlEIjoiVEJDIiwiYm9laW5nQ29tcGFueUlEIjoiVEJDIiwic2VydmljZUlEIjoiUGVyZlRlc3RYNTA5Q2xpZW50Iiwic2VyaWFsTm8iOiIjODQ3NDI4ODk0MjA0MzcyOTI5OTk5OTM2NTYxNDg0ODM2NTUwMDgzNzE5NjM2In0sImV4cCI6MTYyOTIyNjU3MCwiaWF0IjoxNjI5MjI1Njc1fQ.-8Ucf8ao4Y5j7mmo-OLvVdAKwcwGEEodCpjSqdlv0t935GxNhTbMhml6v2plMRYaGyF-d-MNkXaGbLzZvuzbtg'
    
   And request {"flight_key":"#(Flightkey)","active":" true","destinations": [],"destination_groups": [],"etd": "2024-03-14T21:35:00Z","eta": "2024-04-18T22:11:00Z","pod": {"iata": "ANC","icao": "PANC","longitude": -149.98981475830078,"latitude": 61.18425950392498},"poa": {"iata": "ATL","icao": "KATL","longitude": -84.43181991577148,"latitude": 33.646778426356946}, "checkpoints": [{"name": "ANC","latitude": 61.00666667,"longitude": -149.99833333,"flight_level": "151","time": "2023-11-04T22:35:00Z"},{"name": "YESKA","latitude": 61,"longitude": -149.33333333333334,"flight_level": "19300","time": "2023-11-04T22:35:00Z"},{"name": "TOC","latitude": 60,"longitude": -147.42999999999998,"flight_level": "31000","time": "2023-08-22T22:35:00Z"},{"name": "FIR","latitude": 60.015,"longitude": -141,"flight_level": "31000","time": "2023-11-04T22:35:00Z"         },         {             "name": "FIR",             "latitude": 60.005,             "longitude": -140.47333333333333,             "flight_level": "31000",             "time": "2023-08-22T22:35:00Z"         },         {             "name": "FIR",             "latitude": 60.015,             "longitude": -140.28166666666667,             "flight_level": "31000",             "time": "2023-11-05T22:35:00Z"         },         {             "name": "FIR",             "latitude": 60.005,             "longitude": -139.90666666666667,             "flight_level": "31000",             "time": "2023-11-06T22:35:00Z"         },         {             "name": "FIR",             "latitude": 60.013333333333335,             "longitude": -139.16666666666666,             "flight_level": "31000",             "time": "2023-08-22T22:35:00Z"         },         {             "name": "COHIL",             "latitude": 60.00833333333333,             "longitude": -139,             "flight_level": "31000",             "time": "2023-11-06T22:35:00Z"         },         {             "name": "FIR",             "latitude": 59.001666666666665,             "longitude": -136.22833333333332,             "flight_level": "33000",             "time": "2023-11-06T22:35:00Z"         },         {             "name": "FIR",             "latitude": 59.00833333333333,             "longitude": -134.68833333333333,             "flight_level": "33000",             "time": "2023-11-07T22:35:00Z"         },         {             "name": "58N30",             "latitude": 58,             "longitude": -130,             "flight_level": "33000",             "time": "2023-11-07T22:35:00Z"         },         {             "name": "55N20",             "latitude": 55,             "longitude": -120,             "flight_level": "33000",             "time": "2023-11-07T22:35:00Z"         },         {             "name": "51N10",             "latitude": 51,             "longitude": -110,             "flight_level": "33000",             "time": "2023-11-07T22:35:00Z"         },         {             "name": "FIR",             "latitude": 49,             "longitude": -106.465,             "flight_level": "35000",             "time": "2023-11-08T22:35:00Z"         },         {             "name": "FIR",             "latitude": 47.015,             "longitude": -103.16666666666667,             "flight_level": "35000",             "time": "2023-11-08T22:35:00Z"         },         {             "name": "DIK",             "latitude": 46.01,             "longitude": -102.77333333333333,             "flight_level": "35000",             "time": "2023-11-08T22:35:00Z"         },         {             "name": "45N00",             "latitude": 45,             "longitude": -100,             "flight_level": "35000",             "time": "2023-08-22T22:35:00Z"         },         {             "name": "DSM",             "latitude": 41.005,             "longitude": -93.64833333333334,             "flight_level": "35000",             "time":"2023-08-22T22:35:00Z"         },         {             "name": "FIR",             "latitude": 41.015,             "longitude": -93.53166666666667,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "FIR",             "latitude": 40.00333333333333,             "longitude": -92.45333333333333,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "3990N",             "latitude": 39,             "longitude": -90,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "FIR",             "latitude": 37.00333333333333,             "longitude": -88.43,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "BNA",             "latitude": 36.00333333333333,             "longitude": -86.685,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "NEWBB",             "latitude": 35.00333333333333,             "longitude": -86.40333333333334,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "IHAVE",             "latitude": 35.00666666666667,             "longitude": -86.275,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "FIR",             "latitude": 35.01,             "longitude": -86.22,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "MTHEW",             "latitude": 35.013333333333335,             "longitude": -86.18666666666667,             "flight_level": "35000",             "time":"2023-11-09T22:35:00Z"         },         {             "name": "MGRIF",             "latitude": 35.00333333333333,             "longitude": -86.03,             "flight_level": "35000",             "time":"2023-11-10T22:35:00Z"         },         {             "name": "BBABE",             "latitude": 34.00833333333333,             "longitude": -85.575,             "flight_level": "35000",             "time":"2023-08-22T22:35:00Z"         },         {             "name": "TOD",             "latitude": 34.013333333333335,             "longitude": -85.51,             "flight_level": "35000",             "time":"2023-11-10T22:35:00Z"         },         {             "name": "LEMKE",             "latitude": 34.01,             "longitude": -85.17,             "flight_level": "28900",             "time":"2023-08-22T22:35:00Z"         },         {             "name": "CHPPR",             "latitude": 34.01,             "longitude": -84.96833333333333,             "flight_level": "25000",             "time":"2023-11-10T22:35:00Z"         },         {             "name": "MRCHH",             "latitude": 34.013333333333335,             "longitude": -84.845,             "flight_level": "22300",             "time":"2023-11-10T22:35:00Z"         },         {             "name": "JAGRR",             "latitude": 33,             "longitude": -84.83333333333333,             "flight_level": "20100",             "time":"2023-11-10T22:35:00Z"         },         {             "name": "ATL",             "latitude": 33.00333333333333,             "longitude": -84.42833333333334,             "flight_level": "1026",             "time":"2023-11-10T22:35:00Z"         }     ],     "alternates": [         {             "alternate_type": "Enroute Alternate",             "airport": {                 "iata": "MSP",                 "icao": "KMSP",                 "longitude": -93.22225570678711,                 "latitude": 44.88153922696399             }         },         {             "alternate_type": "Enroute Alternate",             "airport": {                 "iata": "HSV",                 "icao": "KHSV",                 "longitude": -86.68444633483887,                 "latitude": 34.677617316768966  }}]}
   
   
    And method POST
    Then status 200